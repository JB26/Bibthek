<%
  from lib.variables import VARIABLES
%>
<a class="navmenu-brand visible-md visible-lg" href="/">BibThek</a>
<a class="navmenu-brand">Number of items: ${items_count}</a>
<ul class="nav nav-pills nav-stacked sidebar">
    
% for idx, name in enumerate(items):
  % if name['sub_items']:
    <hr class="divid_groups" />
    <li role="presentation" class="dropdown-header">
      % if active_sort.split('/')[1] == 'series':
        % if 'series_complete' in name['books'][0] and not name['empty_field'] and name['books'][0]['series_complete']:
          <span class="glyphicon glyphicon-star series_star" id="${idx}_star" aria-label="Series complete" title="Series complete"></span>
        % elif  not name['empty_field']:
          <span class="glyphicon glyphicon-star-empty series_star" id="${idx}_star-empty" aria-label="Series not complete" title="Series not complete"></span>
        % endif
      % endif
      <div class="group_name" id="${idx}_a" style="padding-left: 20px;">${name['_id']}<span class="caret"></span></div>
      % if active_sort.split('/')[1] in (['series'] + VARIABLES.name_fields):
        % if not name['empty_field']:
          <sapn class="glyphicon glyphicon-pencil series_pencil" id="${idx}_pencil" aria-label="Edit all" title="Edit all"></span>
        % endif
      % endif
    </li>
    % for title in name['books']:
      <li>
        <a href="?book_id=${title['_id']}" class="book_title" id="${title['_id']}" >
          % if 'order' in title and title['order'] != '':
              ${title['order']} - 
          % endif
            ${title['title']}
        </a>
      </li>
    % endfor
  % else:
    <hr class="divid_groups" />
    <li>
      <a href="?book_id=${name['books']['_id']}" class="book_title" id="${name['books']['_id']}" >
        % if 'order' in name and name['order'] != '':
              ${name['order']} - 
        % endif
            ${name['_id']}
      </a>
    </li>
  % endif
% endfor
</ul>
